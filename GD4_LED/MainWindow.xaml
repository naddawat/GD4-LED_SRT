<Window x:Class="GD4_LED.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:GD4_LED"
        mc:Ignorable="d"
        Title="MainWindow" Height="1280" Width="800"
        WindowState="Maximized" WindowStyle="None"
        Loaded="Window_Loaded">

    <Grid Background="{StaticResource BackgroundGray}">
        <Grid.RowDefinitions>
            <!-- Header -->
            <RowDefinition Height="80"/>
            <!-- Content -->
            <RowDefinition Height="*"/>
            <!-- Bottom Navigation -->
            <RowDefinition Height="80"/>
        </Grid.RowDefinitions>

        <!-- Header Section -->
        <Border Grid.Row="0"  Background="{StaticResource PrimaryBlue}"  CornerRadius="0,0,24,24" MouseLeftButtonDown="Header_MouseLeftButtonDown" MouseLeftButtonUp="Border_MouseLeftButtonUp">
            <Grid Margin="32,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                    <TextBlock Text="ระบบจัดยา - LED-A1" 
                             Foreground="White" 
                             FontSize="18" 
                             FontWeight="Bold"/>
                    <TextBlock Text="Medicine Management System" 
                             Foreground="White" 
                             Opacity="0.8" 
                             FontSize="12"/>
                </StackPanel>

                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="10/09/2025 14:30" 
                             Foreground="White" 
                             FontSize="14"
                             VerticalAlignment="Center"
                             Margin="0,0,20,0"/>
                    <Ellipse Width="12" Height="12" Fill="{StaticResource Success}" 
                           ToolTip="ระบบออนไลน์"
                           Margin="0,0,20,0"/>

                    <!-- Close Button -->
                    <Button Background="Transparent" 
                            BorderThickness="0" 
                            Width="40" 
                            Height="40"
                            Click="CloseButton_Click"
                            ToolTip="ออกจากโปรแกรม">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}" 
                                        CornerRadius="4">
                                    <Path Data="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" 
                                          Fill="White" 
                                          Stretch="Uniform" 
                                          Width="16" 
                                          Height="16"
                                          HorizontalAlignment="Center"
                                          VerticalAlignment="Center"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#EF4444"/>
                                    </Trigger>
                                    <Trigger Property="IsPressed" Value="True">
                                        <Setter Property="Background" Value="#DC2626"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>



        <!-- Content Section -->
        <Frame x:Name="MainFrame" Grid.Row="1" Margin="10,10,10,10" NavigationUIVisibility="Hidden"/>

        <!-- Bottom Navigation -->
        <Border Grid.Row="2" 
                Background="White" 
                BorderBrush="#E5E7EB" 
                BorderThickness="0,1,0,0">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="21*"/>
                    <ColumnDefinition Width="246*"/>
                    <ColumnDefinition Width="267*"/>
                    <ColumnDefinition Width="193*"/>
                    <ColumnDefinition Width="74*"/>
                </Grid.ColumnDefinitions>

                <Button x:Name="DispenseButton" Grid.Column="0" 
                        Style="{StaticResource TabButtonStyle}" 
                        Tag="Active" Grid.ColumnSpan="2" Margin="0,0,55,0" Click="Button_Click_1">
                    <StackPanel>
                        <Path Data="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z" 
                              Fill="{Binding Path=Foreground, RelativeSource={RelativeSource AncestorType=Button}}" 
                              Stretch="Uniform" 
                              Width="20" Height="20"
                              HorizontalAlignment="Center"/>
                        <TextBlock Text="จ่ายยา" 
                                 FontSize="12" 
                                 HorizontalAlignment="Center" 
                                 Margin="0,4,0,0"/>
                    </StackPanel>
                </Button>

                <Button x:Name="HistoryButton" Grid.Column="2" Style="{StaticResource TabButtonStyle}">
                    <StackPanel>
                        <Path Data="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z" 
                              Fill="{Binding Path=Foreground, RelativeSource={RelativeSource AncestorType=Button}}" 
                              Stretch="Uniform" 
                              Width="20" Height="20"
                              HorizontalAlignment="Center"/>
                        <TextBlock Text="ประวัติ" 
                                 FontSize="12" 
                                 HorizontalAlignment="Center" 
                                 Margin="0,4,0,0"/>
                    </StackPanel>
                </Button>

                <Button x:Name="StockButton" Grid.Column="2" Style="{StaticResource TabButtonStyle}" Grid.ColumnSpan="3" Margin="266,0,0,0" Click="Button_Click">
                    <StackPanel>
                        <Path Data="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z" 
                              Fill="{Binding Path=Foreground, RelativeSource={RelativeSource AncestorType=Button}}" 
                              Stretch="Uniform" 
                              Width="20" Height="20"
                              HorizontalAlignment="Center"/>
                        <TextBlock Text="Stock" 
                                 FontSize="12" 
                                 HorizontalAlignment="Center" 
                                 Margin="0,4,0,0"/>
                    </StackPanel>
                </Button>

                <Button x:Name="SettingsButton" Grid.Column="4" Style="{StaticResource TabButtonStyle}">
                    <StackPanel>
                        <Path Data="M19.14,12.94a1.43,1.43,0,0,0,0-1.88l2.11-1.65a.5.5,0,0,0,.12-.65l-2-3.46a.5.5,0,0,0-.61-.22l-2.49,1a6.89,6.89,0,0,0-1.62-.94l-.38-2.65A.5.5,0,0,0,13,2H11a.5.5,0,0,0-.5.42l-.38,2.65a6.89,6.89,0,0,0-1.62.94l-2.49-1a.5.5,0,0,0-.61.22l-2,3.46a.5.5,0,0,0,.12.65l2.11,1.65a1.43,1.43,0,0,0,0,1.88L3.12,14.59a.5.5,0,0,0-.12.65l2,3.46a.5.5,0,0,0,.61.22l2.49-1a6.89,6.89,0,0,0,1.62.94l.38,2.65A.5.5,0,0,0,11,22h2a.5.5,0,0,0,.5-.42l.38-2.65a6.89,6.89,0,0,0,1.62-.94l2.49,1a.5.5,0,0,0,.61-.22l2-3.46a.5.5,0,0,0-.12-.65ZM12,15.5A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"
              Fill="{Binding Path=Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
              Stretch="Uniform"
              Width="20" Height="20"
              HorizontalAlignment="Center"/>
                        <TextBlock Text="ตั้งค่า"
                   FontSize="12"
                   HorizontalAlignment="Center"
                   Margin="0,4,0,0"/>
                    </StackPanel>
                </Button>
            </Grid>
        </Border>
    </Grid>
</Window>